{"version":3,"sources":["logo.svg","constant/Url.js","redux/actions/actionCreators.js","redux/types.js","components/layout/Footer.js","components/BaseComponent.js","components/layout/BaseMenus.js","constant/Menus.js","components/layout/Header.js","components/pages/errors/NotFound.js","components/layout/Section.js","middlewares/Common.js","services/Promises.js","services/ImageCharacterizerService.js","components/container/Card.js","utils/StringUtil.js","components/forms/commons.js","utils/ComponentUtil.js","components/buttons/buttons.js","components/container/Columns.js","components/pages/characterizer/PreviewCanvas.js","components/pages/characterizer/helper.js","components/pages/characterizer/ImageAscii.js","components/pages/Home.js","components/pages/About.js","components/layout/Content.js","components/widget/Loader.js","components/messages/Alert.js","components/layout/SideBar.js","App.js","redux/userReducer.js","redux/applicationReducer.js","redux/reducers.js","middlewares/UserMiddleware.js","middlewares/ApplicationMiddleware.js","redux/configureStore.js","Root.js","serviceWorker.js","index.js"],"names":["module","exports","devMode","document","getElementById","value","rootValue","contextPath","concat","usedHost","url","apiAccountDashboard","accountAction","app","startLoading","type","payload","meta","Footer","className","target","href","Component","BaseComponent","props","authenticated","state","updated","Date","parentApp","validateLoginStatus","loginStatus","loggedUser","backToLogin","getParentApp","getLoggedUser","isLoggedUserAdmin","isLoggedUserNull","role","getLoggedUserDepartementName","departement","name","showConfirmation","body","Promise","resolve","reject","showAlert","e","showConfirmationDanger","showAlertError","showInfo","showError","history","push","withProgress","endLoading","doAjax","method","params","successCallback","errorCallback","then","response","catch","finally","console","warn","commonAjax","commonAjaxWithProgress","title","refresh","setState","this","CommonTitle","style","textAlign","marginLeft","children","BaseMenus","shownMenuList","id","hideMenuList","isMenuListShown","toggleMenuList","menuName","getAttribute","menuChildren","i","length","element","MENUS","link","iconClassName","Header","showBurger","toggleNavBurger","performLogout","accepted","backgroundColor","to","src","width","height","onClick","map","menu","childs","extractChildren","Fragment","key","menu-name","marginRight","linkProperty","j","display_name","AppLink","withRouter","connect","userState","dispatch","actions","NotFound","class","aria-label","Section","commonAuthorizedHeader","token","getLoginKey","header","toString","trim","getCookie","setApiToken","log","setCookie","cname","cvalue","exdays","d","setTime","getTime","expires","toUTCString","cookie","ca","decodeURIComponent","split","c","charAt","substring","indexOf","axios","require","ImageCharacterizerService","characterize","request","endpoint","post","headers","data","code","error","commonAjaxPostCalls","instance","Card","saveButtonOnClick","editButtonOnClick","deleteButtonOnClick","headerIconClassName","iconOnClick","headerIconOnClick","margin","withButtonFooter","footerContent","HeaderIcon","aria-hidden","index","uniqueId","string","getUTCMilliseconds","CapitalizeFirstLetter","rawString","String","splitted","result","toUpperCase","InputField","orientation","label","required","attributes","note","LabelField","SubmitResetButton","submitValue","submitText","submitIconClassName","submitButtonClassName","withReset","AnchorWithIcon","Columns","cells","cell","PreviewCanvas","getCanvas","onCanvasClick","event","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","rgb","getRgb","onGetRgb","canvas","getContext","getImageData","r","g","b","hex","rgbToHex","componentToHex","drawImage","imageData","ctx","clearRect","image","Image","onload","perc","h","getMaxIndex","object","max","hasOwnProperty","hexToRgb","exec","parseInt","objectToArray","array","DEFAULT_REDUCER","1","red","green","blue","2","DEFAULT_FILTER","character","useTemplateCharacter","min","hexMax","hexMin","ImageAscii","colorFilters","colorReducers","resultFontSize","percentage","activeFilterIndex","activeReducerIndex","characterizerService","addColorFilterAndReducer","addColorFilter","addColorReducer","getMaxColorFiltersID","getMaxColorReducersID","increaseResultFontSize","reduceResultFontSize","removeColorFilter","removeColorReducer","updateFilterCharacter","updateColorFilter","minInput","maxInput","minValue","maxValue","updateColorFilterState","updateColorReducer","updateColorReducerState","preventDefault","form","ok","send","fileOnChange","fileInput","input","reader","FileReader","readAsDataURL","files","onerror","handleSuccess","handleError","getColorFilterPayloads","getColorReducerPayloads","changePercentage","setInputValuesFromState","PREFIX","getElementsByName","filterIndex","reducerIndex","onSubmit","accept","onChange","Object","keys","filter","active","onKeyUp","minHeight","display","overflow","fontFamily","fontSize","dangerouslySetInnerHTML","__html","ButtonToggleActive","RBGTagMinMax","RGBTag","Home","About","Content","exact","path","render","component","Loader","opacity","show","position","zIndex","color","Alert","onYes","onNo","onClose","focus","headerClassName","yesOnly","isError","ModalBackdrop","SideBar","menuChild","App","menus","menuCode","loading","loadingPercentage","requestId","mainAppUpdated","alertTitle","alertBody","alertIsYesOnly","alertIsError","alertOnYesCallback","alertOnCancelCallback","loadings","setMenuCode","incrementLoadings","decrementLoadings","requestAppId","realtime","yesCallback","noCallback","dismissAlert","routedContent","additionalMenus","Array","isNotAuthenticated","isShoppingDisabled","enableShopping","marginBottom","paddingTop","paddingLeft","borderRight","initState","loginKey","loginFailed","loginAttempt","lastLoginAttempt","applicationProfile","reducer","action","user","api_token","debug","applicationData","rootReducer","combineReducers","userReducer","applicationState","applicationReducer","initialState","performLoginMiddleware","store","next","common","responseJson","newAction","assign","err","param","requestAppIdMiddleware","message","get","alert","performLogoutMiddleware","logoutSuccess","storeApplicationData","configureStore","createStore","applyMiddleware","userMiddleware","Root","Boolean","window","location","hostname","match","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ecf6dc4b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","\r\nconst devMode = \r\n    document.getElementById(\"rootPath\").value == \"${contextPath}\" || \r\n    document.getElementById(\"rootPath\").value == \"\";\r\nconst rootValue = devMode ?\r\n     \"/\" : document.getElementById(\"rootPath\").value+\"/\";\r\n\r\nexport const contextPath = function(){\r\n    const contextPath = devMode? \"http://localhost:8000\".concat(rootValue):rootValue;\r\n    //console.debug(\"contextPath: \",contextPath,document.getElementById(\"rootPath\").value);\r\n    \r\n    return contextPath;\r\n}\r\n \r\nexport const baseImageUrl = contextPath()+\"WebAsset/Shop1/Images/\";\r\nexport const baseResUrl = contextPath()+\"res/img/\";\r\n\r\nexport const POST = \"post\";\r\n","import * as types from '../types'\r\nimport * as url from '../../constant/Url'\r\n\r\nconst usedHost = url.contextPath();\r\nconst apiEntityBaseUrl = usedHost + \"api/entity/\"\r\nconst apiAccount = usedHost + \"api/account/\"\r\nconst apiAccountDashboard = usedHost + \"api/accountdashboard/\"\r\nconst apiAdmin = usedHost + \"api/admin/\"\r\nconst apiNotes = usedHost + \"api/notes/\"\r\n\r\n \r\nexport const accountAction = {\r\n\r\n    requestAppId : (app) => {\r\n        app.startLoading();\r\n        return {\r\n            type: types.REQUEST_ID,\r\n            payload: {},\r\n            meta: {\r\n                app: app, type: types.REQUEST_ID,\r\n                url: apiAccountDashboard.concat(\"user\")\r\n            }\r\n        };\r\n    },\r\n    performLogout : (app) => {\r\n        app.startLoading();\r\n        let loginRequest = {\r\n            type: types.DO_LOGOUT,\r\n            payload: {},\r\n            meta: { app: app, type: types.DO_LOGOUT, url: apiAccountDashboard.concat(\"logout\") }\r\n        };\r\n        return loginRequest;\r\n    },\r\n    performLogin : (email, password, app) => {\r\n        app.startLoading();\r\n        let loginRequest = {\r\n            type: types.DO_LOGIN,\r\n            payload: {\r\n                user: { email: email, password: password }\r\n            },\r\n            meta: { type: types.DO_LOGIN, url: apiAccount.concat(\"login\"), app: app }\r\n        };\r\n        return loginRequest;\r\n    }\r\n}\r\n\r\nexport const applicationAction = {\r\n    /**\r\n     * @param {String} key\r\n     * @param {*} data\r\n     */\r\n    storeApplicationData: (key, data) => {\r\n        \r\n        let requested = {\r\n            type: types.STORE_APPLICTION_DATA,\r\n            payload: {\r\n                data:data,\r\n                key:key   \r\n            },\r\n            meta: {\r\n                type: types.STORE_APPLICTION_DATA,\r\n            }\r\n        };\r\n        return requested;\r\n    },\r\n    removeApplicationData: (key) => {\r\n        \r\n        let requested = {\r\n            type: types.STORE_APPLICTION_DATA,\r\n            payload: {\r\n                key:key   \r\n            },\r\n            meta: {\r\n                type: types.REMOVE_APPLICTION_DATA,\r\n            }\r\n        };\r\n        return requested;\r\n    },\r\n\r\n}\r\n \r\n\r\n","/**\r\n * \r\n */\r\n export const DO_LOGIN = \"do_login\";\r\nexport const DO_LOGOUT = \"do_logout\";  \r\nexport const REQUEST_ID = \"req_ID\"; \r\nexport const GET_LOGGED_USER = \"get_logged_user\";\r\n\r\n//meeting notes\r\nexport const STORE_APPLICTION_DATA = \"store-app-data\";\r\nexport const REMOVE_APPLICTION_DATA = \"remove-app-data\";","import React, { Component } from 'react';\r\n\r\nclass Footer extends Component {\r\n\r\n    render(){\r\n        return(\r\n            <footer className=\"footer has-background-dark\">\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"content has-text-centered\">\r\n\t\t\t\t\t<div className=\"columns is-mobile is-centered\">\r\n\t\t\t\t\t\t<div className=\"field is-grouped is-grouped-multiline\">\r\n\t\t\t\t\t\t\t<div className=\"control\">\r\n\t\t\t\t\t\t\t\t<div className=\"tags has-addons\">\r\n\t\t\t\t\t\t\t\t\t<a target=\"_blank\" className=\"tag is-link\" href=\"https://github.com/fajaralmu\">Github</a>\r\n\t\t\t\t\t\t\t\t\t<span className=\"tag is-light\">&copy; fajaralmu 2020</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</footer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Footer;","import  React , {Component} from 'react';\r\nimport { Route, Switch, withRouter, Redirect } from 'react-router-dom'\r\n\r\nexport default class BaseComponent extends Component {\r\n    constructor(props, authenticated = true){\r\n        super(props);\r\n        this.state = {\r\n            updated:new Date()\r\n        }\r\n        this.parentApp = props.app;\r\n        this.authenticated =  authenticated;\r\n    \r\n        this.validateLoginStatus = () => {\r\n            if (!authenticated) {\r\n                return true;\r\n            }\r\n            if (this.props.loginStatus != true || this.props.loggedUser == null) {\r\n                this.backToLogin();\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n        this.getParentApp = () => {\r\n            return this.props.app;\r\n        }\r\n        this.getLoggedUser = () => {\r\n            return this.props.loggedUser;\r\n        }\r\n        this.isLoggedUserAdmin = () => {\r\n            return this.isLoggedUserNull() == false && this.getLoggedUser().role == 'admin';\r\n        }\r\n        this.getLoggedUserDepartementName = () => {\r\n            if (this.isLoggedUserNull()) return null;\r\n            return this.getLoggedUser().departement.name;\r\n        }\r\n        this.isLoggedUserNull = () => {\r\n            return false == this.props.loginStatus || null == this.props.loggedUser;\r\n        }\r\n        this.showConfirmation = (body) => {\r\n            return new Promise((resolve, reject) =>{\r\n                const onYes = function(e) {\r\n                    resolve(true);\r\n                }\r\n                const onNo = function(e) {\r\n                    resolve(false);\r\n                }\r\n                this.parentApp.showAlert(\"Confirmation\", body, false, onYes, onNo);\r\n            });\r\n            \r\n        }\r\n        this.showConfirmationDanger = (body) => {\r\n            return new Promise((resolve, reject) =>{\r\n                const onYes = function(e) {\r\n                    resolve(true);\r\n                }\r\n                const onNo = function(e) {\r\n                    resolve(false);\r\n                }\r\n                this.parentApp.showAlertError(\"Confirmation\", body, false, onYes, onNo);\r\n            });\r\n            \r\n        }\r\n        this.showInfo = (body) => {\r\n            this.parentApp.showAlert(\"Info\", body, true, function(){});\r\n        }\r\n        this.showError = (body) => {\r\n            this.parentApp.showAlertError(\"Error\", body, true, function(){});\r\n        }\r\n\r\n        this.backToLogin = () => {\r\n            if (!authenticated) {\r\n                return;\r\n            }\r\n            this.props.history.push(\"/login\");\r\n        }\r\n        /**\r\n         * \r\n         * @param {boolean} withProgress \r\n         */\r\n        this.startLoading = (withProgress) => {\r\n            this.parentApp.startLoading(withProgress);\r\n        }\r\n\r\n        this.endLoading = () => {\r\n            this.parentApp.endLoading();\r\n        }\r\n        /**\r\n         * \r\n         * @param {Function} method \r\n         * @param {any} params \r\n         * @param {boolean} withProgress \r\n         * @param {Function} successCallback \r\n         * @param {Function} errorCallback \r\n         */\r\n        this.doAjax = (method, params, withProgress, successCallback, errorCallback) => {\r\n            if(!method) {console.warn(\"Method Not Found! \");return}\r\n            this.startLoading(withProgress);\r\n            const app = this;\r\n\r\n            method(params).then(function(response){\r\n                if(successCallback){ \r\n                    successCallback(response);\r\n                }\r\n            }).catch(function(e){\r\n                if(errorCallback){\r\n                    errorCallback(e);\r\n                } else {\r\n                    if (typeof(e) == 'string'){\r\n                        app.showInfo(\"Operation Failed: \"+e);\r\n                    }\r\n                    app.showInfo(\"resource not found\");\r\n                }\r\n            }).finally((e)=>{\r\n                this.endLoading();\r\n            })\r\n        }\r\n\r\n        /**\r\n         * \r\n         * @param {Function} method \r\n         * @param {any} params \r\n         * @param {Function} successCallback \r\n         * @param {Function} errorCallback \r\n         */\r\n        this.commonAjax = (method, params, successCallback, errorCallback) => {\r\n            this.doAjax(method, params, false, successCallback, errorCallback);\r\n        }\r\n         /**\r\n         * \r\n         * @param {Function} method \r\n         * @param {any} params \r\n         * @param {Function} successCallback \r\n         * @param {Function} errorCallback \r\n         */\r\n        this.commonAjaxWithProgress = (method, params, successCallback, errorCallback) => {\r\n            this.doAjax(method, params, true, successCallback, errorCallback);\r\n        }\r\n\r\n        this.title = (title) => {\r\n            return <CommonTitle>{title}</CommonTitle>\r\n        }\r\n        this.refresh = () => {\r\n            this.setState({updated:new Date()});\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.authenticated && null == this.props.loggedUser) {\r\n            this.backToLogin();\r\n        }\r\n    }\r\n}\r\n\r\nexport const CommonTitle = (props) => {\r\n    return <h2 style={{ textAlign: 'left', marginLeft:'10px' }}>{props.children}</h2>\r\n}\r\n","\r\nimport React, { Component } from 'react';\r\nimport BaseComponent from './../BaseComponent';\r\nexport default class BaseMenus extends BaseComponent {\r\n\r\n    constructor(props) {\r\n        super(props, false);\r\n        this.state = {\r\n            shownMenuList: {}\r\n        }\r\n\r\n        this.shownMenuList = (id) => {\r\n            const shownMenuList = this.state.shownMenuList;\r\n            shownMenuList[id] = true;\r\n            this.setState({ shownMenuList: shownMenuList });\r\n        }\r\n        this.hideMenuList = (id) => {\r\n            const shownMenuList = this.state.shownMenuList;\r\n            shownMenuList[id] = false;\r\n            this.setState({ shownMenuList: shownMenuList });\r\n        }\r\n        this.isMenuListShown = (id) => {\r\n            return this.state.shownMenuList[id] == true;\r\n        }\r\n        this.toggleMenuList = (e) => {\r\n            const menuName = e.target.getAttribute(\"menu-name\");\r\n            if (this.isMenuListShown(menuName)) {\r\n                this.hideMenuList(menuName);\r\n            } else {\r\n                this.shownMenuList(menuName);\r\n            }\r\n        }\r\n\r\n    }\r\n   \r\n    extractChildren(menuChildren) {\r\n        const children = [];\r\n        for (let i = 0; i < menuChildren.length; i++) {\r\n            const element = menuChildren[i];\r\n            if (element.authenticated && this.isLoggedUserNull()) {\r\n                continue;\r\n            }\r\n            if (this.isLoggedUserNull() == false && element.role != null && this.getLoggedUser().role != element.role) {\r\n                continue;\r\n            }\r\n            children.push(element);\r\n        }\r\n\r\n        return children;\r\n    }\r\n    \r\n\r\n}\r\n","\r\nexport const MENUS = [\r\n    {\r\n        name: 'General',\r\n        children: [\r\n            {\r\n                name: 'Home',\r\n                link: '/home',\r\n                iconClassName: 'fas fa-home',\r\n            }, {\r\n                name: 'Image Ascii',\r\n                link: '/imageascii',\r\n                iconClassName: 'fas fa-font',\r\n                // authenticated: true,\r\n            }]\r\n    }, {\r\n        name: 'Help',\r\n        children: [\r\n            {\r\n                name: 'About',\r\n                link: '/about',\r\n                // iconClassName: 'fas fa-database'\r\n            },\r\n            {\r\n                name: 'Tutorial',\r\n                link: '/tutorial',\r\n                iconClassName: 'fas fa-users',\r\n            }\r\n        ]\r\n\r\n\r\n    }\r\n\r\n]\r\n","\r\nimport React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Route, Switch, withRouter, Redirect } from 'react-router-dom'\r\n\r\nimport * as actions from '../../redux/actions/actionCreators'\r\nimport { connect } from 'react-redux'\r\nimport './SideBar.css'\r\nimport BaseMenus from './BaseMenus';\r\nimport { MENUS } from './../../constant/Menus';\r\n\r\n\r\nclass Header extends BaseMenus {\r\n    constructor(props) {\r\n        super(props, false);\r\n        this.state = {\r\n            ...this.state,\r\n            showBurger: false\r\n        }\r\n\r\n        this.toggleNavBurger = () => {\r\n            this.setState({ showBurger: !this.state.showBurger })\r\n        }\r\n\r\n        this.performLogout = () => {\r\n            const props = this.props;\r\n            this.showConfirmation(\"Apakah Anda ingin keluar?\").then(function (accepted) {\r\n                if (accepted) {\r\n                    props.performLogout(props.app);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n\r\n        return (\r\n            <nav className=\"navbar is-dark topNav\">\r\n                <div className=\"container\">\r\n                    <div className=\"navbar-brand\">\r\n                        <Link style={{ backgroundColor: '#fff' }} className=\"navbar-item\" to=\"/\">\r\n                            <img src=\"NCv2.png\" width=\"38\" height=\"38\" />\r\n                        </Link>\r\n                        <div onClick={this.toggleNavBurger} className=\"navbar-burger burger\">\r\n                            <span></span>\r\n                            <span></span>\r\n                            <span></span>\r\n                        </div>\r\n                    </div>\r\n                    <div id=\"topNav\" className={this.state.showBurger ? \"is-active navbar-menu\" : \" navbar-menu\"}>\r\n                        <div className=\"navbar-start\">\r\n                            {MENUS.map((menu, i) => {\r\n                                const childs = this.extractChildren(menu.children);\r\n                                if (childs == null || childs.length == 0) { return null; }\r\n                                const isMenuListShown = this.isMenuListShown(menu.name);\r\n                                const iconClassName = isMenuListShown ? \"fas fa-angle-up\" : \"fas fa-angle-down\";\r\n\r\n                                return (\r\n                                    <React.Fragment key={\"NavMenu_\" + menu.name}>\r\n                                        <p style={{ marginLeft: '10px' }} onClick={this.toggleMenuList} menu-name={menu.name} className=\"menu-label\">\r\n                                            <i style={{ marginRight: '10px' }} className={iconClassName} />\r\n                                            {menu.name}  </p>\r\n                                        {isMenuListShown ?\r\n                                            <ul className=\"menu-list\">\r\n                                                {childs.map((linkProperty, j) => {\r\n                                                    return <AppLink key={\"header-link-\" + j + \"-\" + i} loginStatus={this.props.loginStatus} loggedUser={this.props.loggedUser} linkProperty={linkProperty} />\r\n                                                })}\r\n                                            </ul> : null}\r\n                                    </React.Fragment>)\r\n                            })}\r\n                        </div>\r\n                        <div className=\"navbar-end\">\r\n                            <div className=\"navbar-item\">\r\n                                <div className=\"buttons has-addons\">\r\n\r\n                                    {this.props.loginStatus ?\r\n                                        <><Link className=\"button is-info\" to=\"/profile\">\r\n                                            <span className=\"icon\">\r\n                                                <i className=\"fas fa-user\"></i>\r\n                                            </span>\r\n                                            <span>{this.props.loggedUser.display_name} - {this.props.loggedUser.role}</span>\r\n                                        </Link>\r\n                                            <a onClick={this.performLogout} className=\"button is-danger\">\r\n                                                <span className=\"icon\">\r\n                                                    <i className=\"fas fa-sign-out-alt\"></i>\r\n                                                </span>\r\n                                                <span>Logout</span>\r\n                                            </a>\r\n                                        </> :\r\n                                        <Link className=\"button is-info\" to=\"/login\">\r\n                                            <span className=\"icon\">\r\n                                                <i className=\"fas fa-user\"></i>\r\n                                            </span>\r\n                                            <span>Login</span>\r\n                                        </Link>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nconst AppLink = (props) => {\r\n    const linkProperty = props.linkProperty;\r\n    const loginStatus = props.loginStatus;\r\n    const loggedUser = props.loggedUser\r\n    const iconClassName = linkProperty.iconClassName ? linkProperty.iconClassName : 'fas fa-folder';\r\n    if (null == linkProperty.link) {\r\n        return null;\r\n    }\r\n\r\n    if (!loginStatus && linkProperty.authenticated) {\r\n        return null;\r\n    }\r\n    if (linkProperty.role != null && loggedUser != null && loggedUser.role != linkProperty.role) {\r\n        return null;\r\n    }\r\n    return (\r\n        <Link key={linkProperty.name + \"LINK\"} className=\"navbar-item\"\r\n            to={linkProperty.link} >\r\n            <span className=\"icon\"><i className={iconClassName} /></span>\r\n            <span>\r\n                {linkProperty.name}\r\n            </span>\r\n        </Link>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    //console.log(state);\r\n    return {\r\n        //user\r\n        loginStatus: state.userState.loginStatus,\r\n        loggedUser: state.userState.loggedUser,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    performLogout: (app) => dispatch(actions.accountAction.performLogout(app)),\r\n})\r\n\r\nexport default withRouter(connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Header))\r\n","import React, { Component } from 'react';\r\nimport { CommonTitle } from '../../BaseComponent';\r\n\r\nexport default class NotFound extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.title = \"Not Found\";\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                {/* <CommonTitle>404 Not Found</CommonTitle> */}\r\n                <article class=\"message is-warning\">\r\n                    <div class=\"message-header\">\r\n                        <p>404 Not Found</p>\r\n                        <button class=\"delete\" aria-label=\"delete\"></button>\r\n                    </div>\r\n                    <div class=\"message-body\">\r\n                        Halaman tidak ditemukan\r\n  </div>\r\n                </article>\r\n            </div>\r\n        )\r\n    }\r\n}","\r\nimport React, { Component } from 'react';\r\nexport default class Section extends Component {\r\n\r\n    render(){\r\n        return (\r\n            <section>\r\n                {this.props.children}\r\n            </section>\r\n        )\r\n    }\r\n}","\r\n\r\nexport const commonAuthorizedHeader = () => {\r\n    const token = getLoginKey();\r\n    const header = {\r\n        'Content-Type': 'application/json',\r\n        // 'Authorization': 'Bearer '+ getLoginKey()\r\n    }\r\n    if (token != null && token.toString().trim() != \"\") {\r\n        header['Authorization'] = 'Bearer '+ token;\r\n    }\r\n    return header;\r\n};\r\n\r\nexport const getLoginKey = () => {\r\n    return getCookie('kafila_api_token');\r\n}\r\nexport const setApiToken = (token) => {\r\n    console.log(\"setApiToken: \", token);\r\n    return setCookie('kafila_api_token', token);\r\n}\r\n\r\nexport const getRequestId = () => {\r\n    return getCookie(\"requestId\");// document.getElementById(\"requestId\").value;\r\n}\r\n\r\nexport const setCookie = function (cname, cvalue, exdays) {\r\n    var d = new Date();\r\n    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\r\n    var expires = \"expires=\" + d.toUTCString();\r\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n}\r\nexport const getCookie = function (cname) {\r\n    var name = cname + \"=\";\r\n    var decodedCookie = decodeURIComponent(document.cookie);\r\n    var ca = decodedCookie.split(';');\r\n    for (var i = 0; i < ca.length; i++) {\r\n        var c = ca[i];\r\n        while (c.charAt(0) == ' ') {\r\n            c = c.substring(1);\r\n        }\r\n        if (c.indexOf(name) == 0) {\r\n            return c.substring(name.length, c.length);\r\n        }\r\n    }\r\n    return \"\";\r\n}","\r\nimport { commonAuthorizedHeader } from './../middlewares/Common';\r\n\r\nconst axios = require('axios')\r\n\r\nexport const rejectedPromise = (message) => {\r\n    return new Promise((res,rej) => {\r\n        rej(message);\r\n    });\r\n}\r\n\r\nexport const emptyPromise =  (defaultResponse) => new Promise(function(res, rej){\r\n    res(defaultResponse);\r\n});\r\n\r\nexport const commonAjaxPostCalls = (endpoint, payload = null) => {\r\n    const request = payload == null ? {} : payload;\r\n    return new Promise(function (resolve, reject) {\r\n        axios.post(endpoint, request, {\r\n            headers: commonAuthorizedHeader()\r\n        })\r\n        .then(response => response.data)\r\n        .then(function (response) {\r\n            if (response.code == \"00\") \r\n            { resolve(response); }\r\n            else \r\n            { reject(response); }\r\n        })\r\n        .catch((e) => { console.error(e); reject(e); });\r\n    })\r\n}","\r\nimport { contextPath } from '../constant/Url';\r\nimport { commonAjaxPostCalls } from './Promises';\r\n\r\nexport default class ImageCharacterizerService\r\n{\r\n    static instance = ImageCharacterizerService.instance || new ImageCharacterizerService();\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    //public//\r\n    characterize = (request) => {\r\n        const endpoint = contextPath().concat(\"api/app/characterize\");\r\n        return commonAjaxPostCalls(endpoint, request);\r\n    }\r\n}","\r\nimport React, { Component } from 'react';\r\nexport default class Card extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.saveButtonOnClick = (e) => {\r\n            if (this.props.saveButtonOnClick) {\r\n                this.props.saveButtonOnClick(e);\r\n            }\r\n        }\r\n        this.editButtonOnClick = (e) => {\r\n            if (this.props.editButtonOnClick) {\r\n                this.props.editButtonOnClick(e);\r\n            }\r\n        }\r\n        this.deleteButtonOnClick = (e) => {\r\n            if (this.props.deleteButtonOnClick) {\r\n                this.props.deleteButtonOnClick(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const iconClassName = this.props.headerIconClassName;\r\n        const iconOnClick = this.props.headerIconOnClick;\r\n\r\n        return (\r\n            <div className=\"card\" style={{ margin: '10px', ...this.props.style }}>\r\n                <header className=\"card-header\">\r\n                    <p className=\"card-header-title\">\r\n                        {this.props.title ? this.props.title : \"Card Title\"}\r\n                    </p>\r\n                    {null == iconClassName ? null : <HeaderIcon className={iconClassName} onClick={iconOnClick} /> }\r\n                </header>\r\n                <div className=\"card-content\">\r\n                    <div className=\"content\">\r\n                        {this.props.children}\r\n                    </div>\r\n                </div>\r\n                {this.props.withButtonFooter ?\r\n                    <footer className=\"card-footer\">\r\n                        <a href=\"#\" onClick={this.saveButtonOnClick} className=\"card-footer-item\">Save</a>\r\n                        <a href=\"#\" onClick={this.editButtonOnClick} className=\"card-footer-item\">Edit</a>\r\n                        <a href=\"#\" onClick={this.deleteButtonOnClick} className=\"card-footer-item\">Delete</a>\r\n                    </footer>\r\n                    : null\r\n                }\r\n                {this.props.footerContent ?\r\n                    <footer className=\"card-footer\">\r\n                        {this.props.footerContent}\r\n                    </footer>\r\n                    :\r\n                    null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst HeaderIcon = (props) => {\r\n    return (\r\n        <a className=\"card-header-icon\" aria-label=\"more options\" onClick={props.onClick}>\r\n            <span className=\"icon\">\r\n                <i className={props.className} aria-hidden=\"true\"></i>\r\n            </span>\r\n        </a>\r\n    );\r\n}","let index = 1;\r\nexport const uniqueId = function () {\r\n\tlet string = \"\";\r\n\tstring = new Date().getUTCMilliseconds();\r\n\tindex++;\r\n\treturn index + \"-\" + string;\r\n}\r\n\r\nexport const replaceString = (string, toReplace, replacement) => {\r\n\ttry {\r\n\t\tconst splitted = new String(string).split(toReplace);\r\n\t\treturn splitted.join(replacement);\r\n\t} catch (error) {\r\n\t\treturn \"\";\r\n\t}\r\n}\r\n \r\nexport function beautifyNominal(val) {\r\n\tif (val == \"\" || val == null) return \"0\";\r\n\tconst rawVal = parseInt(val);\r\n\tlet nominal =  Math.abs(val).toString();\r\n\tlet result = \"\";\r\n\tif (nominal.length > 3) {\r\n\t\tlet zero = 0;\r\n\t\tfor (let i = nominal.length - 1; i > 0; i--) {\r\n\t\t\tzero++;\r\n\t\t\tresult = nominal[i] + result;\r\n\t\t\tif (zero == 3) {\r\n\t\t\t\tresult = \".\" + result;\r\n\t\t\t\tzero = 0;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tresult = nominal[0] + result;\r\n\t} else {\r\n\t\tresult = val;\r\n\t}\r\n\tif(rawVal < 0){\r\n\t\tresult = \"-\"+result;\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nexport const getMaxSales = (list) => {\r\n\tlet result = 0;\r\n\tfor (let i = 0; i < list.length; i++) {\r\n\t\tconst element = list[i];\r\n\t\tif (element.sales > result)\r\n\t\t\tresult = element.sales;\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nexport const isNonNullArray = function (array) {\r\n\treturn array != null && array.length > 0;\r\n}\r\n\r\nexport const isNonNullArrayWithIndex = function (array, i) {\r\n\treturn array != null && array.length > 0 && array[i] != null;\r\n}\r\n\r\nconst months = [\r\n\t\"January\", \"Ferbuary\", \"March\", \"April\", \"May\", \"June\",\r\n\t\"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n]\r\n\r\nexport const monthYearString = function (m, y) {\r\n\tif (m == null || y == null) {\r\n\t\treturn \"-\";\r\n\t}\r\n\treturn months[m - 1] + \" \" + y;\r\n}","\r\nimport React, { Component } from 'react';\r\nimport './FormControls.css'\r\nimport { replaceString } from '../../utils/StringUtil';\r\n\r\nexport const CapitalizeFirstLetter = (rawString) => {\r\n    if (null == rawString || rawString.length <= 1) {\r\n        return rawString;\r\n    }\r\n    const string = new String(rawString);\r\n    \r\n    let splitted = string.split(\"_\");\r\n    if (splitted.length > 1) {\r\n        let result = \"\";\r\n        for (let i = 0; i < splitted.length; i++) {\r\n            const element = splitted[i];\r\n            result+=CapitalizeFirstLetter(element)+ \" \";\r\n        }\r\n\r\n        return result;\r\n    }\r\n    let result = (string).substring(0,1).toUpperCase();\r\n    result+= (string).substring(1, string.length);\r\n\r\n    return result;\r\n}\r\n\r\nexport const TableHeadWithFilter = (props) => {\r\n    const headers = props.headers;\r\n    const onButtonOrderClick = props.onButtonOrderClick;\r\n    return (<thead>\r\n        <tr>\r\n            {headers.map((header, i) => {\r\n                const label = header.alias?header.alias:header.text;\r\n                return <th key={\"TH_\"+i}>{CapitalizeFirstLetter(label)}\r\n\r\n                    {header.withFilter ?\r\n                       <div className=\"field has-addons\">\r\n                       <div className=\"control\">\r\n                                <InputFormFilter type=\"text\" name={header.text} />\r\n                            </div>\r\n                            <div className=\"control\" style={{fontSize:'0.7em', backgroundColor:'#ccc'}}>\r\n                                <i sort=\"asc\" onClick={onButtonOrderClick} data={header.text} className=\"fas fa-angle-up sort-button\"></i>\r\n                                <i sort=\"desc\" onClick={onButtonOrderClick}  data={header.text}  className=\"fas fa-angle-down sort-button\"></i>\r\n                            </div>\r\n                           \r\n                        </div>\r\n                        : null}\r\n                </th>\r\n            })}\r\n        </tr>\r\n    </thead>)\r\n}\r\n//not exported\r\nconst InputFormFilter = (props) => {\r\n    const className = \"input form-filter\";\r\n    const type = props.type ? props.type : 'text';\r\n\r\n    return <input className={className} type={type} name={props.name}\r\n        id={'input-form-' + props.name} />\r\n}\r\n\r\nexport const ButtonApplyResetFilter = (props) => {\r\n    return (\r\n        <>\r\n            <div className=\"buttons has-addons\">\r\n            <button type=\"submit\" className=\"button is-info\">\r\n                <span className=\"icon\">\r\n                    <i className=\"fas fa-search\"></i>\r\n                </span>\r\n                <span>Apply Filter</span>\r\n            </button>\r\n            <button type=\"reset\" className=\"button is-danger\">\r\n                <span className=\"icon\">\r\n                    <i className=\"fas fa-sync\"></i>\r\n                </span>\r\n                <span>Reset Filter</span>\r\n            </button>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport const InputField = (props) => {\r\n\r\n    const className = \"input input-form-field \"+props.className;\r\n    const orientation = props.orientation?props.orientation:\"horizontal\";\r\n    const label = props.label ? props.label : props.name;\r\n    return (\r\n        <div className={\"field is-\"+orientation}>\r\n            <div className=\"field-label is-normal\">\r\n                <label className=\"label\">{CapitalizeFirstLetter(label)}</label>\r\n                  \r\n            </div>\r\n            <div className=\"field-body\">\r\n                <div className=\"field\">\r\n                    <div className=\"control\">\r\n                        {props.required == true ?\r\n                            props.type == 'textarea' ?\r\n                                <textarea {...props.attributes} required className={className + \" textarea\"} id={'input-form-field-' + props.name} name={props.name}></textarea>\r\n                                :\r\n                                <input {...props.attributes} required type={props.type ? props.type : 'text'} id={'input-form-field-' + props.name} name={props.name} className={className} />\r\n                            :\r\n                            props.type == 'textarea' ?\r\n                                <textarea {...props.attributes} className={className + \" textarea\"} id={'input-form-field-' + props.name} name={props.name}></textarea>\r\n                                :\r\n                                <input {...props.attributes} type={props.type ? props.type : 'text'} id={'input-form-field-' + props.name} name={props.name} className={className} />\r\n                        }\r\n                        {props.note? \r\n                            <p><i>Note: {props.note}</i></p>\r\n                            :null\r\n                        }  \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const SelectField = (props) => {\r\n    const optionValues = props.options == null ? [] : props.options;\r\n    const options = optionValues.map((option, i) => {\r\n        return <option key={\"select-option-\"+i} value={option.value} >{option.text}</option>\r\n    })\r\n    const label = props.label?props.label:props.name;\r\n    return (\r\n        <div className=\"field is-horizontal\">\r\n            <div className=\"field-label is-normal\"><label className=\"label\">{CapitalizeFirstLetter(label)}</label></div>\r\n            <div className=\"field-body\">\r\n                <div className=\"field\">\r\n                    <div className=\"control\">\r\n                        {props.required == true ?\r\n                            <select required id={'input-form-field-' + props.name} name={props.name}\r\n                                className=\"input input-form-field\">\r\n                                {options}\r\n                            </select>\r\n                            :\r\n                            <select id={'input-form-field-' + props.name} name={props.name}\r\n                                className=\"input input-form-field\">\r\n                                {options}\r\n                            </select>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const LabelField = (props) => {\r\n\r\n    const className = \"input\";\r\n    return (\r\n        <div className=\"field is-horizontal\">\r\n            <div className=\"field-label is-normal\"><label className=\"label\">{props.label ? CapitalizeFirstLetter(props.label) : \"Label\"}</label></div>\r\n            <div className=\"field-body\">\r\n                <div className=\"field\">\r\n                    <div className=\"control\">\r\n                        {props.value}\r\n                    {props.children}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const SubmitResetButton = (props) => {\r\n    const submitValue = props.submitText ? props.submitText : \"Submit\";\r\n    const submitIconClassName = props.submitIconClassName ? props.submitIconClassName : \"fas fa-save\";\r\n    const submitButtonClassName = props.submitButtonClassName ? \"button \"+ props.submitButtonClassName : \"button is-link\";\r\n    return (\r\n        <div className=\"field is-horizontal\">\r\n            <div className=\"field-label is-normal\" />\r\n            <div className=\"field-body\">\r\n                <div className=\"field\">\r\n                    <button className={submitButtonClassName} type=\"submit\" style={{marginRight:'10px'}} >\r\n                        <span className=\"icon\"><i className={submitIconClassName}></i></span>\r\n                        <span>{submitValue}</span>\r\n                    </button>\r\n                    {props.withReset == true ?\r\n                        <button className=\"button is-danger\" type=\"reset\" >\r\n                            <span className=\"icon\">\r\n                                <i className=\"fas fa-sync\"></i>\r\n                            </span>\r\n                            <span>Reset</span>\r\n                        </button> : null\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export const byId = (id) => { return document.getElementById(id) }\r\n\r\n\r\n/**\r\n * \r\n * @param  {...string} ignoredIds \r\n */\r\nexport const clearFields = (...ignoredIds) => {\r\n    let inputs = document.getElementsByTagName(\"input\");\r\n\r\n    let withIgnore = ignoredIds != null;\r\n    loop: for (let i = 0; i < inputs.length; i++) {\r\n        if (withIgnore){\r\n            for (let y = 0; y < ignoredIds.length; y++) {\r\n                if (inputs[i].id == ignoredIds[y]) continue loop;\r\n            }\r\n        }\r\n        \r\n        if (inputs[i].type == \"text\") { inputs[i].value = \"\"; }\r\n        else if (inputs[i].type == \"number\") { inputs[i].value = 0; }\r\n        else { inputs[i].value = null; }\r\n    }\r\n}\r\n\r\n\r\nexport function toBase64v2(fileInput) {\r\n    return new Promise(function(resolve, reject){\r\n        try{\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(fileInput.files[0]);\r\n            reader.onload = function() { resolve(reader.result); }\r\n            reader.onerror = function(error) {\r\n                reject(error);\r\n            }\r\n        }catch(e){\r\n            reject(e);\r\n        }\r\n    });\r\n   \r\n}\r\n\r\nexport const checkExistance = function (...ids) {\r\n    for (let i = 0; i < ids.length; i++) {\r\n        if (byId(ids[i]) == null) {\r\n            console.log(\"component with id:\", ids[i], \"does not exist\");\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\n/**\r\n * \r\n * @param {Number} totalButton \r\n * @param {Number} currentPage \r\n */\r\nexport const createNavButtons = (totalButton, currentPage) => {\r\n    totalButton = Math.ceil(totalButton);\r\n    if (!currentPage) { currentPage = 0 }\r\n    let buttonData = new Array();\r\n    let min = currentPage - 3 < 0 ? 0 : currentPage - 3;\r\n    let max = currentPage + 3 > totalButton ? totalButton : currentPage + 3;\r\n\r\n    if (min != 0) {\r\n        buttonData.push({\r\n            text: 1,\r\n            value: 0\r\n        });\r\n    }\r\n\r\n    for (let index = min; index < max; index++) {\r\n        buttonData.push({\r\n            text: index + 1,\r\n            value: index\r\n        });\r\n    }\r\n\r\n    if (max != totalButton) {\r\n        buttonData.push({\r\n            text: totalButton,\r\n            value: totalButton - 1\r\n        });\r\n    }\r\n\r\n\r\n    return buttonData;\r\n}\r\n\r\n\r\nexport const getDropdownOptionsMonth = () => {\r\n    let options = [];\r\n    for (let i = 1; i <= 12; i++) {\r\n        options.push({ value: i, text: i });\r\n    }\r\n    return options;\r\n}\r\nexport const getDropdownOptionsYear = (from, to) => {\r\n    let options = [];\r\n    for (let i = from; i <= to; i++) {\r\n        options.push({ value: i, text: i });\r\n    }\r\n    return options;\r\n}","import  React  from 'react';\r\n\r\nexport const AnchorWithIcon = (props) => {\r\n    const className = props.className;\r\n    const iconClassName = props.iconClassName;\r\n    return (\r\n        <a {...props.attributes} className={\"button \" +className} style={props.style} onClick={props.onClick}>\r\n            <span className=\"icon\">\r\n                <i className={iconClassName}></i>\r\n            </span>\r\n            <span>{props.children}</span>\r\n        </a>\r\n    )\r\n}","\r\nimport React, { Component } from 'react';\r\nexport default class Columns extends Component \r\n{\r\n    render(){\r\n        const cells = this.props.cells?this.props.cells:[];\r\n        return (\r\n            <div className=\"columns\">\r\n                {cells.map((cell, i)=>{\r\n                    return <div key={\"column-\"+i} className=\"column\">{cell}</div>\r\n                })}\r\n            </div>\r\n        )\r\n    }\r\n}","\r\nimport React, { Component } from 'react';\r\nexport default class PreviewCanvas extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.getCanvas = () => {\r\n            return document.getElementById(this.props.id);\r\n        }\r\n        this.onCanvasClick = (event) => {\r\n            // function getCursorPosition(canvas, event) {\r\n            const rect = event.target.getBoundingClientRect();\r\n            const x = event.clientX - rect.left;\r\n            const y = event.clientY - rect.top;\r\n            console.log(\"x: \" + x + \" y: \" + y);\r\n            const rgb = this.getRgb(event.target, x, y);\r\n            console.log(\"RGB: \", rgb);\r\n            if (this.props.onGetRgb) {\r\n                this.props.onGetRgb(rgb);\r\n            }\r\n\r\n        }\r\n        this.getRgb = (canvas, x, y) => {\r\n            const ctx = canvas.getContext(\"2d\");\r\n            var data = ctx.getImageData(x, y, 1, 1).data;\r\n            const rgb = { r: data[0], g: data[1], b: data[2] };\r\n            rgb.hex = this.rgbToHex(rgb.r, rgb.g, rgb.b);\r\n            return rgb;\r\n        }\r\n        this.componentToHex = (c) => {\r\n            var hex = c.toString(16);\r\n            return hex.length == 1 ? \"0\" + hex : hex;\r\n        }\r\n\r\n        this.rgbToHex = (r, g, b) => {\r\n            return \"#\" +  this.componentToHex(r) +  this.componentToHex(g) +  this.componentToHex(b);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.drawImage();\r\n    }\r\n\r\n    drawImage() {\r\n        if (this.props.imageData == null) {\r\n            return;\r\n        }\r\n        const canvas = this.getCanvas();\r\n        canvas.height = 300;\r\n        const ctx = canvas.getContext(\"2d\");\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        var image = new Image();\r\n        image.onload = function () {\r\n            const w = image.width;\r\n            const perc = 100 / w * 300;\r\n            const h = image.height * perc / 100;\r\n            if (canvas.height < h) {\r\n                canvas.height = h;\r\n            }\r\n            ctx.drawImage(image, 0, 0, 300, h);\r\n        };\r\n        image.src = this.props.imageData;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"has-background-light\">\r\n                <canvas onClick={this.onCanvasClick} id={this.props.id} width=\"300\" height=\"300\" />\r\n            </div>\r\n        )\r\n    }\r\n}","export const getMaxIndex = (object) => {\r\n    // this.getMaxColorReducersID = () => {\r\n    let max = 0;\r\n    for (const key in object) {\r\n        if (object.hasOwnProperty(key)) {\r\n            const element = object[key];\r\n            if (element.index > max) {\r\n                max = element.index;\r\n            }\r\n        }\r\n    }\r\n    return max;\r\n    // }\r\n}\r\nexport const hexToRgb = function (hex) {\r\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    return result ? {\r\n        r: parseInt(result[1], 16),\r\n        g: parseInt(result[2], 16),\r\n        b: parseInt(result[3], 16)\r\n    } : null;\r\n}\r\n export const objectToArray = (object) => {\r\n    const array = [];\r\n    for (const key in object) {\r\n        if (object.hasOwnProperty(key)) {\r\n            const element = object[key];\r\n            array.push(element);\r\n        }\r\n    }\r\n    return array;\r\n}","\r\nimport React, { Component } from 'react';\r\nimport BaseComponent from '../../BaseComponent';\r\nimport Section from '../../layout/Section';\r\nimport ImageCharacterizerService from '../../../services/ImageCharacterizerService';\r\nimport Card from '../../container/Card';\r\nimport { SubmitResetButton, InputField, LabelField } from '../../forms/commons';\r\nimport { toBase64v2 } from '../../../utils/ComponentUtil';\r\nimport { AnchorWithIcon } from '../../buttons/buttons';\r\nimport Columns from '../../container/Columns';\r\nimport { uniqueId } from '../../../utils/StringUtil';\r\nimport PreviewCanvas from './PreviewCanvas';\r\nimport { getMaxIndex, hexToRgb, objectToArray } from './helper';\r\nconst DEFAULT_REDUCER = {\r\n    1: { index: 1, red: 0, green: 0, blue: 0, hex: '#000000' },\r\n    2: { index: 2, red: 255, green: 255, blue: 255, hex: '#ffffff' },\r\n};\r\nconst DEFAULT_FILTER = {\r\n    1: {\r\n        //l:colorFilters.length,\r\n        index: 1,\r\n        character: \"o\",\r\n        useTemplateCharacter: false,\r\n        red: { min: 0, max: 0 },\r\n        green: { min: 0, max: 0 },\r\n        blue: { min: 0, max: 0 },\r\n        hexMax: '#000000',\r\n        hexMin: '#000000',\r\n    },\r\n    2: {\r\n        //l:colorFilters.length,\r\n        index: 2,\r\n        character: \"-\",\r\n        useTemplateCharacter: false,\r\n        red: { min: 255, max: 255 },\r\n        green: { min: 255, max: 255 },\r\n        blue: { min: 255, max: 255 },\r\n        hexMax: '#ffffff',\r\n        hexMin: '#ffffff',\r\n    }\r\n};\r\n\r\nexport default class ImageAscii extends BaseComponent {\r\n    constructor(props) {\r\n        super(props, false);\r\n        this.state = {\r\n            imageData: null,\r\n            colorFilters: DEFAULT_FILTER,\r\n            colorReducers: DEFAULT_REDUCER,\r\n            result: null,\r\n            resultFontSize: 1,\r\n            percentage: 17,\r\n            activeFilterIndex: 1,\r\n            activeReducerIndex: 1\r\n        }\r\n        this.characterizerService = ImageCharacterizerService.instance;\r\n        this.addColorFilterAndReducer = (e) => {\r\n            this.addColorFilter();\r\n            this.addColorReducer();\r\n        }\r\n        this.addColorFilter = (e) => {\r\n            const colorFilters = this.state.colorFilters;\r\n            const index = this.getMaxColorFiltersID() + 1;\r\n            colorFilters[index] = {\r\n                //l:colorFilters.length,\r\n                index: index,\r\n                character: \"o\",\r\n                useTemplateCharacter: false,\r\n                red: { min: 0, max: 0 },\r\n                green: { min: 0, max: 0 },\r\n                blue: { min: 0, max: 0 }\r\n            };\r\n            this.setState({ activeFilterIndex: index, colorFilters: colorFilters });\r\n        }\r\n        this.addColorReducer = (e) => {\r\n            const colorReducers = this.state.colorReducers;\r\n            const index = this.getMaxColorReducersID() + 1;\r\n            colorReducers[index] = { index: index, red: 0, green: 0, blue: 0, hex: null };\r\n            this.setState({ activeReducerIndex:index, colorReducers: colorReducers });\r\n        }\r\n\r\n        this.increaseResultFontSize = () => {\r\n            let resultFontSize = this.state.resultFontSize;\r\n            resultFontSize += 0.1;\r\n            this.setState({ resultFontSize: resultFontSize });\r\n        }\r\n        this.reduceResultFontSize = () => {\r\n            let resultFontSize = this.state.resultFontSize;\r\n            resultFontSize -= 0.1;\r\n            this.setState({ resultFontSize: resultFontSize });\r\n        }\r\n\r\n        this.removeColorFilter = (index) => {\r\n            const colorFilters = this.state.colorFilters;\r\n            delete colorFilters[index]\r\n            this.setState({ colorFilters: colorFilters });\r\n        }\r\n        this.removeColorReducer = (index) => {\r\n            const colorReducers = this.state.colorReducers;\r\n            delete colorReducers[index]\r\n            this.setState({ colorReducers: colorReducers });\r\n        }\r\n\r\n        this.updateFilterCharacter = (e) => {\r\n            const target = e.target;\r\n            const index = target.getAttribute(\"index\");\r\n            const colorFilters = this.state.colorFilters;\r\n            colorFilters[index].character = target.value;\r\n            this.setState({ colorFilters: colorFilters });\r\n        }\r\n        this.updateColorFilter = (index) => {\r\n            const minInput = document.getElementById(\"input-form-field-color_filter_\"+index+\"_min_rgb\");\r\n            const maxInput = document.getElementById(\"input-form-field-color_filter_\"+index+\"_max_rgb\");\r\n            const minValue = minInput.value;\r\n            const maxValue = maxInput.value;\r\n            this.updateColorFilterState(index, minValue, \"min\");\r\n            this.updateColorFilterState(index, maxValue, \"max\");\r\n        }\r\n        this.updateColorFilterState = (index, value, type) => {\r\n\r\n            const colorFilters = this.state.colorFilters;\r\n            const rgb = hexToRgb(value);\r\n\r\n            if (type == \"max\") {\r\n                colorFilters[index].red.max = rgb.r;\r\n                colorFilters[index].green.max = rgb.g;\r\n                colorFilters[index].blue.max = rgb.b;\r\n                colorFilters[index].hexMax = value;\r\n            } else {\r\n                colorFilters[index].red.min = rgb.r;\r\n                colorFilters[index].green.min = rgb.g;\r\n                colorFilters[index].blue.min = rgb.b;\r\n                colorFilters[index].hexMin = value;\r\n            }\r\n\r\n            this.setState({ colorFilters: colorFilters });\r\n        }\r\n\r\n        this.updateColorReducer = (index) => {\r\n            const input = document.getElementById(\"input-form-field-color_reducer_\"+index);\r\n            const value = input.value;\r\n            this.updateColorReducerState(index, value);\r\n        }\r\n        this.updateColorReducerState = (index, hex) => {\r\n\r\n            const colorReducers = this.state.colorReducers;\r\n            const rgb = hexToRgb(hex);\r\n            colorReducers[index].red = rgb.r;\r\n            colorReducers[index].green = rgb.g;\r\n            colorReducers[index].blue = rgb.b;\r\n            colorReducers[index].hex = hex;\r\n            this.setState({ colorReducers: colorReducers });\r\n        }\r\n\r\n        this.getMaxColorReducersID = () => {\r\n            const colorReducers = this.state.colorReducers;\r\n            return getMaxIndex(colorReducers);\r\n        }\r\n\r\n        this.getMaxColorFiltersID = () => {\r\n            const colorFilters = this.state.colorFilters;\r\n            return getMaxIndex(colorFilters);\r\n        }\r\n\r\n\r\n        this.characterize = (e) => {\r\n            e.preventDefault();\r\n            const form = e.target;\r\n            const app = this;\r\n            this.showConfirmation(\"Continue?\")\r\n                .then(function (ok) {\r\n                    if (ok) { app.send(form); }\r\n                })\r\n        }\r\n\r\n        this.fileOnChange = (e) => {\r\n            const input = e.target;\r\n            const app = this;\r\n            toBase64v2(input).then(function (data) {\r\n                app.setState({ imageData: data });\r\n            }).catch(console.error);\r\n        }\r\n\r\n        this.handleSuccess = (response) => {\r\n            this.showInfo(\"Success\");\r\n            this.setState({ result: response });\r\n        }\r\n        this.handleError = (e) => {\r\n            this.showError(\"Error: \" + e);\r\n            console.error(e);\r\n        }\r\n\r\n        this.send = (form) => {\r\n            const colorFilters = this.getColorFilterPayloads();\r\n            const colorReducers = this.getColorReducerPayloads();\r\n            const request = {\r\n                colorFilters: colorFilters,\r\n                colorReducers: colorReducers,\r\n                imageData: this.state.imageData,\r\n                percentage: this.state.percentage\r\n            }\r\n            this.commonAjax(\r\n                this.characterizerService.characterize, request,\r\n                this.handleSuccess,\r\n                this.handleError\r\n            )\r\n        }\r\n\r\n        this.changePercentage = (e) => {\r\n            this.setState({ percentage: e.target.value });\r\n        }\r\n\r\n        this.getColorReducerPayloads = () => {\r\n            const colorReducers = this.state.colorReducers;\r\n            return objectToArray(colorReducers);\r\n        }\r\n\r\n        this.getColorFilterPayloads = () => {\r\n            const colorFilters = this.state.colorFilters;\r\n            return objectToArray(colorFilters);\r\n        }\r\n        this.setInputValuesFromState = () => {\r\n            //general\r\n            if (null != document.getElementById(\"input-form-field-percentage\"))\r\n                document.getElementById(\"input-form-field-percentage\").value = this.state.percentage;\r\n\r\n            //filter\r\n            const colorFilters = this.state.colorFilters;\r\n            const PREFIX = \"color_filter_\"\r\n            for (const key in colorFilters) {\r\n                if (colorFilters.hasOwnProperty(key)) {\r\n                    const element = colorFilters[key];\r\n                    //min\r\n                    document.getElementsByName(PREFIX + key + \"_min_rgb\")[0].value = element.hexMin;\r\n                    document.getElementsByName(PREFIX + key + \"_max_rgb\")[0].value = element.hexMax;\r\n                    document.getElementsByName(PREFIX + key + \"_character\")[0].value = element.character;\r\n                }\r\n            }\r\n\r\n            //reducers\r\n            const colorReducers = this.state.colorReducers;\r\n            const PREFIX_RED = \"color_reducer_\"\r\n            for (const key in colorReducers) {\r\n                if (colorReducers.hasOwnProperty(key)) {\r\n                    const element = colorReducers[key];\r\n                    //min\r\n                    if (document.getElementsByName(PREFIX_RED + key)[0]) {\r\n                        document.getElementsByName(PREFIX_RED + key)[0].value = element.hex;\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n        this.onGetRgb = (rgb) => {\r\n            const filterIndex = this.state.activeFilterIndex;\r\n            const reducerIndex = this.state.activeReducerIndex;\r\n            const colorFilters = this.state.colorFilters;\r\n            const colorReducers = this.state.colorReducers;\r\n            if (colorFilters.hasOwnProperty(filterIndex)) {\r\n                colorFilters[filterIndex].red.max = rgb.r;\r\n                colorFilters[filterIndex].green.max = rgb.g;\r\n                colorFilters[filterIndex].blue.max = rgb.b;\r\n                colorFilters[filterIndex].hexMax = rgb.hex;\r\n\r\n                colorFilters[filterIndex].red.min = rgb.r;\r\n                colorFilters[filterIndex].green.min = rgb.g;\r\n                colorFilters[filterIndex].blue.min = rgb.b;\r\n                colorFilters[filterIndex].hexMin = rgb.hex;\r\n               \r\n            }\r\n            if (colorReducers.hasOwnProperty(reducerIndex)) {\r\n                colorReducers[reducerIndex].red = rgb.r;\r\n                colorReducers[reducerIndex].green = rgb.g;\r\n                colorReducers[reducerIndex].blue = rgb.b;\r\n                colorReducers[reducerIndex].hex = rgb.hex;\r\n            }\r\n\r\n            this.setState({ colorReducers: colorReducers, colorFilters: colorFilters });\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.title = \"Characterizer\";\r\n    }\r\n    componentDidUpdate() {\r\n        this.setInputValuesFromState();\r\n    }\r\n    render() {\r\n\r\n        return (\r\n            <Section>    {this.title(\"Image Ascii\")}\r\n                <Card title=\"Image Ascii\" >\r\n                    <div className=\"columns\">\r\n                        <div className=\"column\">\r\n                            <form onSubmit={this.characterize}>\r\n                                <InputField required={true} name=\"Image\" type=\"file\" attributes={{\r\n                                    accept: 'image/*', onChange: this.fileOnChange\r\n                                }} />\r\n                                <InputField required={true} type=\"number\" label=\"Resize (%)\" name=\"percentage\" attributes={{\r\n                                    min: 0, onChange: this.changePercentage\r\n                                }} />\r\n                                <div className=\"field\">\r\n                                    <p className=\"has-text-centered has-background-light\">Color Filters <span className=\"tag is-dark\">{Object.keys(this.state.colorFilters).length}</span> </p>\r\n\r\n                                    {Object.keys(this.state.colorFilters).map((key, i) => {\r\n                                        const filter = this.state.colorFilters[key];\r\n                                        const index = filter.index;\r\n                                        const active = this.state.activeFilterIndex == index;\r\n                                        return (\r\n\r\n                                            <Card key={\"card_filter_\" + uniqueId()} title={\"Filter #\" + (i + 1)}\r\n                                                headerIconClassName=\"fas fa-times\"\r\n                                                headerIconOnClick={(e) => this.removeColorFilter(index)} >\r\n                                                <Columns cells={[\r\n                                                    <InputField label=\"min\" attributes={{ index: index + \"_min\",  }} name={\"color_filter_\" + index + \"_min_rgb\"} type=\"color\" />\r\n                                                    , <InputField label=\"max\" attributes={{ index: index + \"_max\",  }} name={\"color_filter_\" + index + \"_max_rgb\"} type=\"color\" />\r\n                                                ]} />\r\n                                                 <Columns cells={[\r\n                                                    <InputField attributes={{ index: index, onKeyUp: this.updateFilterCharacter }}\r\n                                                        label=\"character\" name={\"color_filter_\" + index + \"_character\"} />,\r\n                                                    <div>\r\n                                                        <AnchorWithIcon onClick={(e)=> this.updateColorFilter(index)} className=\"is-small\" iconClassName=\"fas fa-play\">Apply</AnchorWithIcon>\r\n                                                        <ButtonToggleActive active={active} onClick={(e) => this.setState({ activeFilterIndex: index })} />\r\n                                                    </div>\r\n                                                    \r\n                                                 ]}/>\r\n                                                <RBGTagMinMax filter={filter} />\r\n                                                \r\n                                            </Card>\r\n                                        )\r\n                                    })}\r\n\r\n                                </div>\r\n                                <LabelField label=\"Option\">\r\n                                    <div>\r\n                                    <AnchorWithIcon className=\"is-light\" onClick={this.addColorFilter} iconClassName=\"fas fa-plus\">Add Filter Color</AnchorWithIcon>\r\n                                    <p></p>\r\n                                    <AnchorWithIcon className=\"is-dark\" onClick={this.addColorFilterAndReducer} iconClassName=\"fas fa-plus\">Add Filter And Reducer</AnchorWithIcon>\r\n                                    </div>\r\n                                </LabelField>\r\n                                <div className=\"field\">\r\n                                    <p className=\"has-text-centered has-background-warning\">Color Reducers <span className=\"tag is-dark\">{Object.keys(this.state.colorReducers).length}</span></p>\r\n                                    <div className=\"columns is-multiline\">\r\n                                        {Object.keys(this.state.colorReducers).map((key, i) => {\r\n                                            const filter = this.state.colorReducers[key];\r\n                                            const index = filter.index;\r\n                                            const active = this.state.activeReducerIndex == index;\r\n                                            return (\r\n                                                <div className=\"column is-half\">\r\n                                                    <Card key={\"card_Reducers_\" + uniqueId()} title={\"Reducer #\" + (i + 1)}\r\n                                                        headerIconClassName=\"fas fa-times\" headerIconOnClick={(e) => this.removeColorReducer(index)} >\r\n\r\n                                                        <InputField attributes={{ index: index}}\r\n                                                            orientation=\"horizontal\" label=\"color\" name={\"color_reducer_\" + index} type=\"color\" />\r\n\r\n                                                        <RGBTag filter={filter} />\r\n                                                        <AnchorWithIcon onClick={(e)=> this.updateColorReducer(index)} className=\"is-small\" iconClassName=\"fas fa-play\">Apply</AnchorWithIcon>\r\n                                                        <ButtonToggleActive active={active} onClick={(e) => this.setState({ activeReducerIndex: index })} />\r\n                                                    </Card>\r\n                                                </div>)\r\n                                        })}\r\n                                    </div>\r\n                                </div>\r\n                                <LabelField label=\"Option\"><AnchorWithIcon className=\"is-warning\" onClick={this.addColorReducer} iconClassName=\"fas fa-plus\">Add Reducer Color</AnchorWithIcon></LabelField>\r\n                                <SubmitResetButton submitIconClassName=\"fas fa-play\" submitText=\"Process\"/>\r\n                            </form>\r\n                        </div>\r\n                        <div className=\"column has-text-centered\">\r\n                            <p className=\"tag is-info\">Preview</p>\r\n                            <figure style={{ minHeight: '300px', display: 'none' }}>\r\n                                {this.state.imageData ? <img className=\"image\" src={this.state.imageData}\r\n                                    width=\"300\" height=\"300\" />\r\n                                    : <h3 className=\"has-text-grey\">No image is selected</h3>\r\n                                }\r\n                            </figure>\r\n                            <PreviewCanvas onGetRgb={this.onGetRgb} imageData={this.state.imageData} id=\"preview-canvas\" />\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n                <Card title=\"Result\">\r\n\r\n                    {this.state.result ?\r\n                        <>  \r\n                        <div className=\"buttons has-addons\">\r\n                            <AnchorWithIcon onClick={this.increaseResultFontSize} iconClassName=\"fas fa-plus\" />\r\n                            <AnchorWithIcon onClick={this.reduceResultFontSize} iconClassName=\"fas fa-minus\" /> \r\n                        </div>\r\n                            <div style={{ overflow: 'scroll', fontFamily: 'monospace' }}>\r\n                                {this.state.resultFontSize}\r\n                                <div style={{ fontSize: this.state.resultFontSize + 'em' }} >\r\n                                    <p dangerouslySetInnerHTML={{ __html: this.state.result.imageData }}></p>\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                        : \"No Result\"}\r\n\r\n                </Card>\r\n            </Section>\r\n        )\r\n    }\r\n}\r\nconst ButtonToggleActive = (props) => {\r\n    if (props.active == true) {\r\n        return <h4 className=\"tag is-success\"><i className=\"fas fa-check\"></i>&nbsp;Active</h4>\r\n    }\r\n    return (\r\n\r\n        <AnchorWithIcon className=\"is-small\" iconClassName=\"fas fa-exclamation-circle\" onClick={props.onClick}>\r\n            Set Active\r\n        </AnchorWithIcon>\r\n    )\r\n}\r\nconst RBGTagMinMax = (props) => {\r\n    const filter = props.filter;\r\n    return (\r\n        <div className=\"tags has-addons\">\r\n            <span className=\"tag is-danger\">min: {filter.red.min} max: {filter.red.max}</span>\r\n            <span className=\"tag is-primary\">min:{filter.green.min} max: {filter.green.max}</span>\r\n            <span className=\"tag is-info\">min: {filter.blue.min}  max: {filter.blue.max}</span>\r\n        </div>\r\n    )\r\n}\r\nconst RGBTag = (props) => {\r\n    const filter = props.filter;\r\n    return (\r\n        <div className=\"tags has-addons\">\r\n            <span className=\"tag is-danger\"> {filter.red} </span>\r\n            <span className=\"tag is-primary\"> {filter.green} </span>\r\n            <span className=\"tag is-info\">  {filter.blue} </span>\r\n        </div>\r\n    )\r\n}\r\n\r\n","\r\nimport BaseComponent from './../BaseComponent';\r\nimport  React from 'react';\r\nimport Section from './../layout/Section';\r\nexport default class Home extends BaseComponent {\r\n\r\n    constructor(props) {\r\n        super(props, false);\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.title = \"Home\";\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Section>\r\n                {this.title(\"Home\")}\r\n            </Section>\r\n        )\r\n    }\r\n}","\r\nimport React, { Component, Fragment } from 'react';\r\nimport Card from '../container/Card';\r\nimport { LabelField } from '../forms/commons';\r\nimport { AnchorWithIcon } from '../buttons/buttons';\r\nexport default class About extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <Card title=\"About\">\r\n                    <LabelField label=\"Front_end\">\r\n                        <h2>ReactJs</h2>\r\n                        <AnchorWithIcon attributes={{\r\n                            target:\"_blank\",\r\n                            href:\"https://github.com/fajaralmu/image_ascii_front_end\"\r\n                        }} iconClassName=\"fas fa-file-code\">Source Code</AnchorWithIcon>\r\n                    </LabelField>\r\n                    <LabelField label=\"Back_end\">\r\n                    <h2>Java</h2>\r\n                        <AnchorWithIcon attributes={{\r\n                            target:\"_blank\",\r\n                            href:\"https://github.com/fajaralmu/image_ascii_backend\"\r\n                        }} iconClassName=\"fas fa-file-code\">Source Code</AnchorWithIcon>\r\n                    </LabelField>\r\n                </Card>\r\n            </Fragment>\r\n        )\r\n    }\r\n}","\r\nimport React, { Component } from 'react';\r\n\r\nimport { Route, Switch, withRouter, Redirect } from 'react-router-dom'\r\nimport NotFound from './../pages/errors/NotFound';\r\nimport ImageAscii from '../pages/characterizer/ImageAscii';\r\nimport Home from './../pages/Home';\r\nimport About from './../pages/About';\r\n\r\nclass Content extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"content\">\r\n        <div style={{ height: '20px' }}></div>\r\n        <Switch>\r\n          <Route exact={true} path=\"/\" render={\r\n            (props) =>\r\n              <Home />\r\n          } />\r\n          <Route path=\"/home\" render={\r\n            (props) =>\r\n              <Home app={this.props.app} />\r\n          } />\r\n          \r\n          <Route path=\"/imageascii\" render={\r\n            (props) =>\r\n              <ImageAscii app={this.props.app} />\r\n          } />\r\n          <Route path=\"/about\" render={\r\n            (props) =>\r\n              <About app={this.props.app} />\r\n          } />\r\n          \r\n          {/* ////////////404///////////////// */}\r\n          <Route path=\"\" component={NotFound} />\r\n        </Switch></div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Content;","\r\nimport React, { Component } from 'react';\r\nimport './Loader.css';\r\n\r\nexport default class Loader extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      opacity: 1,\r\n      show: true\r\n    }\r\n   \r\n  }\r\n\r\n  componentDidUpdate() {\r\n   \r\n  }\r\n\r\n\r\n  render() {\r\n    if (this.props.show == false) {\r\n      return null;\r\n    }\r\n    return (\r\n      // <div style={{width:'100%', height:'50px',  color:'#ccc', textAlign:'center'}}>\r\n        <div style={{position:'fixed', zIndex:10000, color: '#ccc'}}>\r\n          <div className=\"columns\" style={{width:'min-content'}}>\r\n          <div className=\"column\">\r\n            <div className=\"lds-ring\"  ><div></div><div></div><div></div><div></div></div> \r\n          </div>\r\n          <div className=\"column\"><span style={{fontSize:'2em'}}>Loading</span></div>\r\n          </div>\r\n        </div>\r\n      // </div>\r\n    )\r\n  }\r\n}","\r\nimport React, { Component } from 'react';\r\nclass Alert extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onYes = (e) => {\r\n\r\n            if (this.props.onYes) {\r\n                this.props.onYes(e);\r\n            }\r\n        }\r\n        this.onNo = (e) => {\r\n\r\n            if (this.props.onNo) {\r\n                this.props.onNo(e);\r\n            }\r\n        }\r\n        this.onClose = (e) => {\r\n            if (this.props.onClose) {\r\n                this.props.onClose(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        try {\r\n            document.getElementById(\"button-alert-yes\").focus();\r\n        } catch (error) {\r\n            \r\n        }\r\n    }\r\n\r\n    render() {\r\n        const title = this.props.title ? this.props.title : \"Info\";\r\n        const yesOnly = this.props.yesOnly == true;\r\n        const isError = this.props.isError == true;\r\n        let headerClassName = 'modal-card-head has-background-link';\r\n        if (isError) {\r\n            headerClassName = 'modal-card-head has-background-danger';\r\n        }\r\n        return (\r\n            <>\r\n                <ModalBackdrop>\r\n                    <form onSubmit={(e)=>e.preventDefault()}>\r\n                    <div className='modal-card'>\r\n                        <header className={headerClassName}>\r\n                            <p className='modal-card-title has-text-white'>{title}</p>\r\n                        </header>\r\n                        <section  className= 'modal-card-body'>\r\n                            {this.props.children}\r\n                        </section>\r\n                        <footer className='modal-card-foot'>\r\n                            <div style={{margin:'auto'}}>\r\n                                <button id=\"button-alert-yes\" type=\"submit\" \r\n                                onClick={this.onYes} className={this.props.yesOnly||this.props.isError?\"button\" : \"button is-link\"}>\r\n                                    Yes\r\n                                </button>\r\n                                {this.props.yesOnly?null:<button onClick={this.onNo} className=\"button\">No</button>}\r\n                            </div>\r\n                        </footer>\r\n                    </div>\r\n                    </form>\r\n\r\n                </ModalBackdrop>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport const ModalBackdrop = (props) => {\r\n    return (\r\n        <div className=\"modal is-active has-text-centered\" style={{ backgroundColor: 'rgba(100,100,100,0.7)' }} >\r\n            <div className=\"modal-background\"></div>\r\n            {props.children}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Alert;","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport BaseComponent from './../BaseComponent';\r\n\r\nimport BaseMenus from './BaseMenus';\r\nimport { MENUS } from './../../constant/Menus';\r\n\r\nclass SideBar extends BaseMenus {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div  >\r\n                <aside className=\"menu\">\r\n                    {MENUS.map((menu, i) => {\r\n                        const childs = this.extractChildren(menu.children);\r\n                        if (childs == null || childs.length == 0) { return null; }\r\n                        const isMenuListShown = this.isMenuListShown(menu.name);\r\n                        const iconClassName = isMenuListShown ? \"fas fa-angle-up\" : \"fas fa-angle-down\";\r\n\r\n                        return (\r\n                            <React.Fragment key={\"menu_\" + menu.name}>\r\n                                <p key={menu.name} menu-name={menu.name} onClick={this.toggleMenuList} className=\"menu-label\">\r\n                                    <i style={{ marginRight: '10px' }} className={iconClassName} />\r\n                                    {menu.name}\r\n                                </p>\r\n                                {isMenuListShown ?\r\n                                    <ul className=\"menu-list\">\r\n                                        {childs.map((menuChild, j) => {\r\n                                            return (<li key={\"sidebar-menu-child-\" + i + \"-\" + j}>\r\n                                                <Link to={menuChild.link}>\r\n                                                    <span className=\"icon\">\r\n                                                        <i className={menuChild.iconClassName ? menuChild.iconClassName : \"fas fa-folder\"} />\r\n                                                    </span>\r\n                                                    <span>\r\n                                                        {menuChild.name}\r\n                                                    </span>\r\n                                                </Link>\r\n                                            </li>)\r\n                                        })}\r\n                                    </ul>\r\n                                    : null}\r\n                            </React.Fragment>\r\n                        )\r\n                    })}\r\n                </aside>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    //console.log(state);\r\n    return {\r\n        //user\r\n        loginStatus: state.userState.loginStatus,\r\n        loggedUser: state.userState.loggedUser,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    // performLogout: (app) => dispatch(actions.accountAction.performLogout(app)),\r\n})\r\n\r\nexport default withRouter(connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(SideBar))\r\n\r\n","\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport { Route, Switch, withRouter } from 'react-router-dom'\nimport * as actions from './redux/actions/actionCreators'\nimport { connect } from 'react-redux'\nimport Footer from './components/layout/Footer';\nimport Header from './components/layout/Header';\nimport Content from './components/layout/Content';\nimport Loader from './components/widget/Loader';\nimport Alert from './components/messages/Alert';\nimport SideBar from './components/layout/SideBar';\nimport './components/layout/SideBar.css';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      menus: [],\n      menuCode: '',\n      loading: false,\n      loadingPercentage: 0,\n      requestId: null,\n      mainAppUpdated: new Date(),\n      showAlert: false,\n\n    };\n\n    this.alertTitle = null;\n    this.alertBody = null;\n    this.alertIsYesOnly = true;\n    this.alertIsError = false;\n    this.alertOnYesCallback = null;\n    this.alertOnCancelCallback = null;\n\n    this.loadings = 0;\n\n\n\n    this.setMenuCode = (code) => {\n      this.setState({ menuCode: code });\n    }\n\n    this.refresh = () => {\n      this.setState({ mainAppUpdated: new Date() });\n    }\n\n    this.incrementLoadings = function () {\n      this.loadings++;\n    }\n\n    this.decrementLoadings = function () {\n      this.loadings--;\n      if (this.loadings < 0) {\n        this.loadings = 0;\n      }\n    }\n\n    this.requestAppId = () => {\n      //this.props.requestAppId(this);\n    }\n    this.startLoading = (realtime) => {\n      this.incrementLoadings();\n      this.setState({ loading: true, realtime: realtime });\n    }\n\n    this.endLoading = () => {\n      console.log(\"END LOADING\");\n      this.decrementLoadings();\n      if (this.loadings == 0) {\n        this.setState({ loading: false, loadingPercentage: 0 });\n      }\n    }\n\n    this.showAlertError = (title, body, yesOnly, yesCallback, noCallback) => {\n      this.alertIsError = true;\n      this.showAlert(title, body, yesOnly, yesCallback, noCallback)\n    }\n    this.showAlert = (title, body, yesOnly, yesCallback, noCallback) => {\n      this.alertTitle = title;\n      this.alertBody = body;\n      this.alertIsYesOnly = yesOnly;\n      const app = this;\n      this.alertOnYesCallback = function (e) {\n        app.dismissAlert();\n        yesCallback(e);\n      }\n      if (!yesOnly) {\n        this.alertOnCancelCallback = function (e) {\n          app.dismissAlert();\n          if (noCallback != null) {\n            noCallback(e);\n          }\n        };\n      }\n      this.setState({ showAlert: true })\n    }\n    this.dismissAlert = () => {\n      this.alertIsError = false;\n      this.setState({ showAlert: false })\n    }\n\n    this.routedContent = () => {\n      return (<>\n        <Switch>\n          <Route path=\"/home\" render={\n            (props) =>\n              <h2>HOME</h2>\n          } />\n\n          <Route path=\"/login\" render={\n            (props) => <h2>Login</h2>\n          } />\n          {/* ///////////authenticated//////////// */}\n\n        </Switch>\n\n      </>);\n    }\n\n\n  }\n\n  componentDidUpdate() {\n    if (this.props.requestId != this.state.requestId) {\n      this.setState({ requestId: this.props.requestId });\n      \n    }\n  }\n\n\n  componentDidMount() {\n    this.requestAppId();\n    this.setState({ loadingPercentage: 0 });\n  }\n\n  setMenus() {\n    const additionalMenus = this.props.menus ? this.props.menus : [];\n    const menus = new Array();\n    for (let i = 0; i < additionalMenus.length; i++) {\n\n      const menu = additionalMenus[i];\n      const isNotAuthenticated = this.props.loginStatus != true && menu.authenticated == true;\n      const isShoppingDisabled = !this.state.enableShopping && menu.code == 'cart';\n\n      if (isNotAuthenticated) { continue; }\n      if (isShoppingDisabled) { continue; }\n\n      menus.push(menu);\n    }\n\n    return menus;\n\n  }\n\n  render() {\n\n    if (!this.props.requestId) {\n      return (<Loader show={true} />)\n    }\n    return (\n      <div className=\"App\">\n        {this.state.showAlert ?\n          <Alert\n            isError={this.alertIsError}\n            yesOnly={this.alertIsYesOnly}\n            title={this.alertTitle}\n            onYes={this.alertOnYesCallback} onNo={this.alertOnCancelCallback}\n          >{this.alertBody}</Alert> :\n          null}\n        <Header app={this} />\n        <section style={{ minHeight: '70vh' }}>\n          <div >\n            <Loader show={this.state.loading} />\n          </div>\n          <div className=\"columns\" style={{ minHeight: '70vh', marginBottom: '1px' }}>\n            <div style={{ paddingTop: '20px', paddingLeft: '20px', borderRight:'solid 2px #ccc' }}\n              className=\"menu-container column is-one-fifth has-background-water-ter\">\n              \n                <SideBar app={this} />\n               \n            </div>\n            <div className=\"column is-four-fifths\">\n\n              <Content app={this} />\n            </div>\n          </div>\n        </section>\n        <Footer />\n\n      </div>\n    )\n  }\n\n}\n\n\n\n\nconst mapStateToProps = state => {\n  //console.log(state);\n  return {\n\n    //user\n    loginStatus: state.userState.loginStatus,\n    requestId: state.userState.requestId,\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  // performLogout: (app) => dispatch(actions.accountAction.performLogout(app)),\n  // requestAppId: (app) => dispatch(actions.accountAction.requestAppId(app)),\n})\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App))\n","import * as types from './types' \r\nimport * as menuData from '../constant/Menus'\r\nimport { setCookie } from '../middlewares/Common';\r\nimport { setApiToken } from './../middlewares/Common';\r\nimport { uniqueId } from './../utils/StringUtil';\r\n\r\nexport const initState = {\r\n    loginKey: null,\r\n    loginStatus: false,\r\n    loginFailed: false, \r\n    loggedUser: null,\r\n    loginAttempt: false,\r\n    requestId: uniqueId()+new Date().getTime(),\r\n    lastLoginAttempt:new Date(),\r\n    applicationProfile: {},\r\n};\r\n\r\nexport const reducer = (state = initState, action) => {\r\n    let result = {};\r\n    /*\r\n        ========setting menu========\r\n    */\r\n    switch (action.type) {\r\n        case types.REQUEST_ID:\r\n           result = { ...state, \r\n                requestId: action.payload.requestId, \r\n                applicationProfile: action.payload.applicationProfile };\r\n            \r\n            if (action.payload.loginStatus != true) {\r\n\r\n                result.loginStatus = false;\r\n                result.loggedUser = null;\r\n            } else {\r\n\r\n                if (action.payload.user) {\r\n\r\n                    result.loggedUser = action.payload.user;\r\n                    result.loginStatus = true;\r\n                    setApiToken(result.loggedUser.api_token);\r\n                }else {\r\n                    result.loginStatus = false;\r\n                    result.loggedUser = null;\r\n                }\r\n            }\r\n\r\n            return result;\r\n        case types.DO_LOGIN:\r\n            console.debug(\"DO_LOGIN\");\r\n            if (!action.payload.loginStatus) {\r\n                return { ...state, lastLoginAttempt:new Date(), loginFailed: true }\r\n            }\r\n\r\n            console.debug(\"DO_LOGIN true \", new Date());\r\n            console.debug(\"APITOKEN: \", action.payload.loginKey);\r\n            setApiToken(action.payload.loginKey);\r\n            result = {\r\n                ...state,\r\n                lastLoginAttempt:new Date(),\r\n                loginAttempt: true,\r\n                loginStatus: true, //action.payload.loginStatus,\r\n                loginKey: action.payload.loginKey,\r\n                loginFailed: false, \r\n                loggedUser: action.payload.loggedUser\r\n            };\r\n           \r\n            \r\n            return result;\r\n        case types.DO_LOGOUT:\r\n            result = {\r\n                ...state,\r\n                loginStatus: false, \r\n                loggedUser: null\r\n            };\r\n            return result;\r\n        default:\r\n           return { ...state };\r\n    }\r\n}\r\n\r\nexport default reducer;","import * as types from './types'\r\n\r\nexport const initState = {\r\n    applicationData: {},\r\n};\r\n\r\nexport const reducer = (state = initState, action) => {\r\n    const result = state;\r\n    switch (action.type) {\r\n        case types.STORE_APPLICTION_DATA:\r\n            const key = action.payload.key;\r\n            const data = action.payload.data;\r\n           \r\n            result.applicationData[key] = data\r\n\r\n            return result;\r\n        case types.REMOVE_APPLICTION_DATA:\r\n            \r\n            delete result[action.payload.key];\r\n            return result;\r\n        default:\r\n            return { ...state };\r\n\r\n    }\r\n}\r\n\r\nexport default reducer;","\r\nimport * as userReducer from \"./userReducer\" \r\nimport * as applicationReducer from \"./applicationReducer\"\r\n\r\nimport { combineReducers } from \"redux\";\r\n\r\nexport const rootReducer = combineReducers(\r\n    { \r\n        userState: userReducer.reducer, \r\n        applicationState: applicationReducer.reducer,\r\n        \r\n    }\r\n);\r\n\r\nexport const initialState = { \r\n    userState: userReducer.initState, \r\n    applicationState: applicationReducer.initState,\r\n}\r\n\r\nexport default rootReducer;","import * as common from './Common'\r\nimport * as types from '../redux/types'\r\nimport * as url from '../constant/Url'\r\nconst axios = require('axios');\r\n\r\nconst POST_METHOD = \"post\";\r\n\r\nexport const performLoginMiddleware = store => next => action => {\r\n    if (!action.meta || action.meta.type !== types.DO_LOGIN) {\r\n        return next(action);\r\n    }\r\n    const app = action.meta.app;\r\n    axios.post(action.meta.url, action.payload, {headers: common.commonAuthorizedHeader()\r\n    })\r\n        .then(response => {\r\n            const responseJson = response.data;\r\n            let loginKey = responseJson.user.api_token;\r\n            let loginSuccess = true;\r\n            let newAction = Object.assign({}, action, {\r\n                payload: {\r\n                    loginStatus: loginSuccess,\r\n                    loginKey: loginKey,\r\n                    loggedUser: responseJson.user\r\n                }\r\n            });\r\n            delete newAction.meta;\r\n            store.dispatch(newAction);\r\n        })\r\n        .catch(err => {\r\n            let newAction = Object.assign({}, action, { payload: {loginStatus: false }});\r\n            delete newAction.meta;\r\n            store.dispatch(newAction);\r\n        })\r\n        .finally(param => {\r\n            app.endLoading();  \r\n        });\r\n\r\n}\r\n\r\nexport const requestAppIdMiddleware = store => next => action => {\r\n    if (!action.meta || action.meta.type !== types.REQUEST_ID) { return next(action); }\r\n\r\n    let headers = common.commonAuthorizedHeader(); \r\n\r\n    // Axios.post\r\n    axios.post(action.meta.url, action.payload, {\r\n        headers: headers\r\n    }).then(response  => {\r\n            const responseJson = response.data;\r\n            \r\n            let loginKey = \"\";\r\n            let requestId = responseJson.message;\r\n            let loginStatus = false;\r\n            if (responseJson.user) {\r\n                loginKey = responseJson.user.api_token;\r\n                loginStatus = true;\r\n            }\r\n\r\n            let newAction = Object.assign({}, action, { payload: {loginStatus: true, loginKey:loginKey, requestId:requestId, ...responseJson }});\r\n            delete newAction.meta;\r\n            store.dispatch(newAction);\r\n        })\r\n        .catch(err => {\r\n            \r\n             console.error(\"ERROR Get User, will get requestId\"); \r\n             const endpoint = url.contextPath().concat(\"api/account/requestid\")\r\n            axios.get(endpoint).then(response=>{\r\n                const responseJson = response.data;\r\n                let requestId = responseJson.message;\r\n            \r\n                let newAction = Object.assign({}, action, { payload: {loginStatus: false, loginKey:null, requestId:requestId, ...responseJson }});\r\n                delete newAction.meta;\r\n                store.dispatch(newAction);\r\n            }).catch((error)=>{\r\n                alert(\"Error requesting application: \"+error+\". Try to reload the page\");\r\n            });\r\n         })\r\n        .finally(param => action.meta.app.endLoading());\r\n}\r\n\r\nexport const performLogoutMiddleware = store => next => action => {\r\n    if (!action.meta || action.meta.type !== types.DO_LOGOUT) {\r\n        return next(action);\r\n    }\r\n    const app = action.meta.app;\r\n\r\n    axios.post(action.meta.url, action.payload, {\r\n        headers: common.commonAuthorizedHeader()\r\n    })\r\n        .then(response => {\r\n            const responseJson = response.data;\r\n            let logoutSuccess = false;\r\n            if (responseJson.code == \"00\") {\r\n                logoutSuccess = true;\r\n            }else{\r\n                alert(\"Logout Failed\");\r\n            }\r\n\r\n            let newAction = Object.assign({}, action, {\r\n                payload: {\r\n                    loginStatus: !logoutSuccess\r\n                }\r\n            });\r\n            delete newAction.meta;\r\n            store.dispatch(newAction);\r\n        })\r\n        .catch(err => { console.log(err) })\r\n        .finally(param => app.endLoading());\r\n\r\n}","import * as types from '../redux/types'\r\n\r\n\r\nexport const storeApplicationData = store => next => action => {\r\n    if (!action.meta || action.meta.type !== types.STORE_APPLICTION_DATA) {\r\n        // console.debug(\"next: \", action)\r\n        return next(action);\r\n    }\r\n\r\n    let newAction = Object.assign({}, action, {\r\n        payload:  action.payload\r\n    });\r\n    delete newAction.meta;\r\n    store.dispatch(newAction);\r\n\r\n}\r\n\r\nexport const removeApplicationData = store => next => action => {\r\n    if (!action.meta || action.meta.type !== types.REMOVE_APPLICTION_DATA) {\r\n        return next(action);\r\n    }\r\n\r\n    let newAction = Object.assign({}, action, {\r\n        payload:  action.payload\r\n    });\r\n    delete newAction.meta;\r\n    store.dispatch(newAction);\r\n\r\n}\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport { initialState, rootReducer } from './reducers'\r\nimport * as userMiddleware from '../middlewares/UserMiddleware'\r\nimport { storeApplicationData } from './../middlewares/ApplicationMiddleware';\r\n\r\nconst POST_METHOD = \"POST\";\r\n\r\nexport const configureStore = () => {\r\n    const store = createStore(\r\n        rootReducer,\r\n        initialState,\r\n        applyMiddleware(  \r\n\r\n            //user related\r\n            userMiddleware.performLoginMiddleware,\r\n            userMiddleware.performLogoutMiddleware,\r\n            userMiddleware.requestAppIdMiddleware,\r\n            //meeting notes\r\n            storeApplicationData\r\n        )\r\n    );\r\n\r\n    return store;\r\n}  \r\n\r\nexport default configureStore;","import React from 'react'\r\nimport App from './App'\r\nimport { Provider } from 'react-redux'\r\nimport configureStore from './redux/configureStore'\r\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\r\n\r\nconst Root = (props) => {\r\n\r\n    const store = configureStore();\r\n\r\n    return (\r\n        <Provider store={store}>\r\n            <HashRouter>\r\n                <App />\r\n            </HashRouter>\r\n        </Provider>\r\n\r\n    );\r\n}\r\n\r\n\r\nexport default Root;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Root from './Root';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(<Root />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}